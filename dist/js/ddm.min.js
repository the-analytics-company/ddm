!function(){var s,p={},d={},g={},t={},o={},i={};p.events=[];try{s=window.localStorage}catch(E){}var l="dd_p_",f="dd_p_exp_";p.get=function(e,n,r){var t=u(e,window._dd);return p.cloneObject(void 0===t&&void 0!==n?!0===r?p.set(e,n):n:t)},p.set=function(e,n,r,t){return O(),!0===r&&p.persist(e,p.isInteger(t)?t:30),a(e,n),y(),n},p.erase=function(e){if(p.has(e))try{O();var n=e.split("."),r=n.pop(),t=n.join(".");delete u(t,window._dd)[r],y()}catch(E){v(E,"delete",arguments)}},p.push=function(e,n){try{O();var r=p.get(e);return p.isArray(r)?a(e,r.concat(p.isArray(n)?n:[p.cloneObject(n)])):a(e,[p.cloneObject(n)]),y(),r}catch(E){v(E,"push",arguments)}},p.has=function(e){return void 0!==u(e,window._dd)},p.empty=function(e){var n=u(e,window._dd);return null==n||void 0===n||(p.isObject(n)?JSON.stringify(n)===JSON.stringify({}):p.isArray(n)?0==n.length:p.isString(n)?""===n.trim():!p.isInteger(n))},p.change=function(e,n,r,t){try{if(p.isString(r)&&(t=r,r=n),void 0===r&&(r=n),w(e,r,o,t)&&("function"==typeof n||!0!==n)){var i=u(e.replace(/\.?\*\*?$/,""),window._dd);void 0!==i&&r(i)}}catch(E){v(E,"change",arguments)}},p.trigger=function(e,n){try{var r=p.isObject(n)?n:{};r.name=e,r.timestamp=(new Date).getTime();var t=[];r.hasOwnProperty("dd")&&p.isObject(r.dd)&&(O(),p.mergeObjects(window._dd,p.cloneObject(r.dd)),t=y());for(var i=m(e,g),o=0;o<i.length;o++)for(var a=0;a<i[o].handlers.length;a++){var c=i[o].handlers[a];if(p.isObject(c)&&c.hasOwnProperty("handler"))if(c.hasOwnProperty("dependsOn")&&p.isArray(c.dependsOn)){for(var s=0,d=c.dependsOn.length;0<d--;)s+=c.dependsOn[d]===e||p.isTriggered(c.dependsOn[d])?1:0;if(s===c.dependsOn.length&&!S(t,c.handler))try{c.hasOwnProperty("once")||!0!==c.handler(r)||(c.once=!0)}catch(E){v(E,"listener-handler",r,c.id)}}else if(!S(t,c.handler))try{c.hasOwnProperty("once")||!0!==c.handler(r)||(c.once=!0)}catch(E){v(E,"listener-handler",r,c.id)}}p.events.push(r)}catch(E){v(E,"trigger",arguments)}};var v=function(e,n,r,t){var i;try{i=JSON.stringify(r)}catch(o){i="error during serialization of arguments: "+o.message}var o={"function":n,arguments:i,id:t,message:e.message?e.message:"",stack:e.stack?e.stack:""};"function"==typeof window.ddmErrorHandler&&window.ddmErrorHandler(o)};p.isTriggered=function(e){for(var n=p.events.length;0<n--;)if(p.events[n].name===e)return!0;return!1},p.listen=function(e,n,r,t){try{if(p.isString(r)?(t=r,r=n):void 0===r&&(r=n),p.isArray(e))for(var i=e.length;0<i--;)w(e[i],r,g,e,t);else w(e,r,g,t);if("boolean"!=typeof n||"boolean"==typeof n&&!1!==n)for(var o={},a=0;a<p.events.length;a++){o[p.events[a].name]=!0;for(var c=m(p.events[a].name,g),s=c.length;0<s--;)for(var d=c[s].handlers.length;0<d--;){var l=c[s].handlers[d];if(p.isObject(l)&&l.hasOwnProperty("handler"))if(l.hasOwnProperty("dependsOn")&&p.isArray(l.dependsOn)){for(var f=0,h=l.dependsOn.length;0<h--;)f+=o.hasOwnProperty(l.dependsOn[h])?1:0;if(f===l.dependsOn.length&&r===l.handler)try{l.hasOwnProperty("once")||!0!==l.handler(p.events[a])||(l.once=!0)}catch(u){v(u,"listener-handler",p.events[a],l.id)}}else if(r===l.handler)try{l.hasOwnProperty("once")||!0!==l.handler(p.events[a])||(l.once=!0)}catch(u){v(u,"listener-handler",p.events[a],l.id)}}}}catch(u){v(u,"listen",arguments)}},p.unlisten=function(e,n){for(var r=g.hasOwnProperty(e)?g[e]:[],t=r.length;0<t--;)r[t].handler===n&&r.splice(t,1)},p.persist=function(n,e){try{if(e=p.isInteger(e)?e:30,!t.hasOwnProperty(n)){function r(e){c(n,e,t[n])}w(n,r,i),w(n+".**",r,i)}t[n]=e,void 0!==u(n)&&c(n,u(n),e)}catch(E){v(E,"persist",arguments)}},p.unpersist=function(e){delete i[e],delete i[e+".**"],j(e)},p.setCookie=function(e,n,r,t,i){try{void 0===t&&(t="/"),void 0===i&&(i="."+P());var o="";if(p.isInteger(r)){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r),o="; expires="+a.toUTCString()}n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),document.cookie=e+"="+n+o+";domain="+i+";path="+t}catch(E){}},p.getCookie=function(e){try{for(var n=document.cookie?document.cookie.split("; "):[],r=/(%[0-9A-Z]{2})+/g,t=n.length;0<t--;){var i=n[t].split("="),o=i.slice(1).join("=");'"'===o.charAt(0)&&(o=o.slice(1,-1));try{var a=i[0].replace(r,decodeURIComponent);if(o=o.replace(r,decodeURIComponent),e===a)return o}catch(E){}}}catch(E){return}},p.removeCookie=function(e,n){p.setCookie(e,"",-100,n)},p.cookieExists=function(e){return void 0!==p.getCookie(e)},p.getUrlParam=function(e){return n(window.location.href,e)},p.getRefParam=function(e){return n(document.referrer,e)},p.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e},p.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},p.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},p.isString=function(e){return"string"==typeof e||e instanceof String},p.isEmptyObject=function(e){return!e||null==e||void 0===e||(p.isObject(e)?JSON.stringify(e)===JSON.stringify({}):p.isArray(e)?0==e.length:p.isString(e)?""===e.trim():!p.isInteger(e))},p.cloneObject=function(e){if(void 0!==e)try{return JSON.parse(JSON.stringify(e))}catch(E){v(E,"cloneObject",arguments)}};function h(){try{var e="__storage_test__";return s.setItem(e,e),s.removeItem(e),!0}catch(E){return E instanceof DOMException&&(22===E.code||1014===E.code||"QuotaExceededError"===E.name||"NS_ERROR_DOM_QUOTA_REACHED"===E.name)&&0!==s.length}}var n=function(e,n){if(!n)return"";n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=RegExp("[\\?&]"+n+"=([^&#]*)").exec(e);return null===r?"":r[1]},a=function(e,i){return i=p.cloneObject(i),e.split(".").reduce(function(e,n,r,t){return r===t.length-1?p.isObject(e[n])&&p.isObject(i)?p.mergeObjects(e[n],i):e[n]=i:p.isObject(e[n])?e[n]:e[n]={}},window._dd)},u=function(e,n){return n=typeof n!==undefined?n:window._dd,""==e?n:e.split(".").reduce(function(e,n){return e!==undefined?e[n]:undefined},n)},O=function(){d=p.cloneObject(window._dd)},y=function(){var e=r(i),n=r(o);return e.concat(n)},r=function(e){var n=b(d,window._dd);n.reverse();for(var r={},t=[],i=0;i<n.length;i++)for(var o=m(n[i],e),a=0;a<o.length;a++){var c=o[a].path;if(!r.hasOwnProperty(c)){for(var s=0;s<o[a].handlers.length;s++){try{o[a].handlers[s].hasOwnProperty("once")||!0!==o[a].handlers[s].handler(u(c.replace(/\.?\*\*?$/,""),window._dd))||(o[a].handlers[s].once=!0)}catch(E){v(E,"listener-changehandler","",o[a].handlers[s].id)}t.push(o[a].handlers[s].handler)}r[c]=1}}return t},w=function(e,n,r,t,i){p.isString(t)&&(i=t,t=undefined);for(var o=r.hasOwnProperty(e)?r[e]:[],a=o.length;0<a--;)if(o[a]===n)return!1;return o.push({handler:n,id:i,dependsOn:t}),r[e]=o,!0},m=function(e,a){var c=a.hasOwnProperty("**")?[{path:"**",handlers:a["**"]}]:[];return e.split(".").reduce(function(e,n,r,t){var i;if(r===t.length-1){i=e.concat(["*"]).join(".");var o=e.concat([n]).join(".");c=(c=c.concat(a.hasOwnProperty(i)?[{path:i,handlers:a[i]}]:[])).concat(a.hasOwnProperty(o)?[{path:o,handlers:a[o]}]:[])}else i=e.concat([n,"**"]).join("."),c=c.concat(a.hasOwnProperty(i)?[{path:i,handlers:a[i]}]:[]);return e.push(n),e},[]),c.reverse(),c},c=function(e,n,r){if(r=p.isInteger(r)?r:30,h())try{var t=(new Date).getTime(),i=l+e,o=JSON.stringify(n),a=f+e,c=new Date(t+6e4*r).getTime();t<c?(s.setItem(i,o),s.setItem(a,c)):(s.removeItem(i),s.removeItem(a))}catch(E){}},j=function(e){c(e,null,0)};p.mergeObjects=function(e,n){for(var r in n)p.isObject(n[r])?(e[r]=p.isObject(e[r])?e[r]:{},arguments.callee(e[r],n[r])):e[r]=p.cloneObject(n[r]);return e};var e,b=function(e,n){for(var r=_(e,n),t=_(n,e),i=r.concat(t),o=[],a={},c=i.length;0<c--;){var s=i[c];a.hasOwnProperty(s)||(a[s]=!0,o.push(s))}return o},_=function(e,n,r,t){for(var i in r=p.isArray(r)?r:[],t=p.isArray(t)?t:[],n)if(p.isObject(n[i])){var o=p.isObject(e)&&e.hasOwnProperty(i)?e[i]:undefined;void 0===o&&r.push(t.concat([i]).join(".")),_(o,n[i],r,t.concat([i]))}else p.isObject(e)&&JSON.stringify(e[i])===JSON.stringify(n[i])||r.push(t.concat([i]).join("."));return r},S=function(e,n){for(var r=e.length;0<r--;)if(e[r]===n)return!0;return!1};String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")});var P=function(){var e=window.location.hostname,n=e.split("."),r=n.length;return 2<r&&(e=n[r-2]+"."+n[r-1],2==n[r-1].length&&2==n[r-2].length&&(e=n[r-3]+"."+e)),e},I=window._ddm;if(!p.isObject(I)||!p.isArray(I.events)){if(window._dd={},function(){if(h())try{var e=(new Date).getTime();for(var n in s){if(0===n.lastIndexOf(f,0)){var r=n.replace(f,"");s.hasOwnProperty(l+r)&&parseInt(s[n],10)>e?(a(r,JSON.parse(s[l+r])),t.hasOwnProperty(r)||p.persist(r)):(s.removeItem(n),s.removeItem(l+r))}/dd_p_.*/.test(n)&&"undefined"==s.getItem(n)&&s.removeItem(n)}}catch(E){}}(),p.isObject(I)&&p.isArray(I.l)&&p.isArray(I.e)){for(var A=I.l.length;0<A--;)p.listen.apply(p,I.l[A]);for(var E=0;E<I.e.length;E++)p.trigger.apply(p,I.e[E])}window._ddm=p}}();